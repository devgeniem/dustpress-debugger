window.DustPressDebugger=function(e,o,$){var n={jsonSettings:{collapsed:!0,recursive_collapser:!1},extended:0,waiting:{}};return n.init=function(){n.cache(),n.$toggler.appendTo("body"),n.$container.appendTo("body"),n.$closeBtn.appendTo(n.$container),n.$jsonDiv.appendTo(n.$container),n.$toggler.on("click",n.toggleDebugger),n.$closeBtn.on("click",n.toggleDebugger),$(o).keyup(n.closeByEsc),n.loadData()},n.cache=function(){n.$debugger=$(".jsonview_data_debug"),n.$toggler=$('<button class="jsonview_open_debug">Show debugger</button>'),n.$closeBtn=$('<span class="jsonview_close_debug">x</span>'),n.$container=$('<div class="jsonview_data_debug jsonview_data_debug_closed"></div>'),n.$jsonDiv=$('<div class="jsonview_debug"></div>')},n.loadData=function(){$.ajax({type:"POST",url:dustpress_debugger.ajaxurl,data:{action:"dustpress_debugger",hash:dustpress_debugger.hash},success:function(e){"object"!=typeof e&&(e=JSON.parse(e)),n.jsonData=e.data,n.jsonData.Ajax=n.waiting,delete n.waiting,console.log("Debugger",n.jsonData),n.jsonView=n.$jsonDiv.JSONView(n.jsonData,n.jsonSettings)},error:function(e){console.log("DustPress Debugger Error",e)}})},n.closeByEsc=function(e){27==e.keyCode&&($(".jsonview_data_debug").hasClass("jsonview_data_debug_closed")||n.toggleDebugger())},n.toggleDebugger=function(){n.$container.toggleClass("jsonview_data_debug_closed"),n.$toggler.toggleClass("jsonview_hide"),$("body").toggleClass("locked")},n.extend=function(e,o){o||(o="NoKey"),void 0==n.jsonData?("undefined"==typeof n.waiting[o]&&(n.waiting[o]=[]),n.waiting[o].push(e)):(void 0===n.jsonData.Ajax&&(n.jsonData.Ajax={}),void 0===n.jsonData.Ajax[o]&&(n.jsonData.Ajax[o]=[]),n.jsonData.Ajax[o].push(e),n.$jsonDiv.JSONView(n.jsonData,n.jsonSettings))},$(o).ready(n.init),n}(window,document,jQuery);