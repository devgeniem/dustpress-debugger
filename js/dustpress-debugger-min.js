window.DustPressDebugger=function(e,o,$){var s={jsonSettings:{collapsed:!0,recursive_collapser:!1},extended:0,waiting:{}};return s.init=function(){s.cache(),s.$toggler.appendTo("body"),s.$container.appendTo("body"),s.$closeBtn.appendTo(s.$container),s.$jsonDiv.appendTo(s.$container),s.$toggler.on("click",s.toggleDebugger),s.$closeBtn.on("click",s.toggleDebugger),$(o).keyup(s.closeByEsc),s.loadData()},s.cache=function(){s.$debugger=$(".jsonview_data_debug"),s.$toggler=$('<button class="jsonview_open_debug">Show debugger</button>'),s.$closeBtn=$('<span class="jsonview_close_debug">x</span>'),s.$container=$('<div class="jsonview_data_debug jsonview_data_debug_closed"></div>'),s.$jsonDiv=$('<div class="jsonview_debug"></div>')},s.loadData=function(){$.ajax({type:"POST",url:dustpress_debugger.ajaxurl,data:{action:"dustpress_debugger",hash:dustpress_debugger.hash},success:function(e){"object"!=typeof e&&(e=JSON.parse(e)),s.jsonData=e.data,s.jsonData.Debugs.Ajax=s.waiting,delete s.waiting,console.log("Debugger",s.jsonData),s.jsonView=s.$jsonDiv.JSONView(s.jsonData,s.jsonSettings)},error:function(e){console.log("DustPress Debugger Error",e)}})},s.closeByEsc=function(e){27==e.keyCode&&($(".jsonview_data_debug").hasClass("jsonview_data_debug_closed")||s.toggleDebugger())},s.toggleDebugger=function(){s.$container.toggleClass("jsonview_data_debug_closed"),s.$toggler.toggleClass("jsonview_hide"),$("body").toggleClass("locked")},s.extend=function(e,o){o||(o="NoKey"),void 0==s.jsonData?("undefined"==typeof s.waiting[o]&&(s.waiting[o]=[]),s.waiting[o].push(e)):(void 0===s.jsonData.Debugs.Ajax&&(s.jsonData.Debugs.Ajax={}),void 0===s.jsonData.Debugs.Ajax[o]&&(s.jsonData.Debugs.Ajax[o]=[]),s.jsonData.Debugs.Ajax[o].push(e),s.$jsonDiv.JSONView(s.jsonData,s.jsonSettings))},$(o).ready(s.init),s}(window,document,jQuery);